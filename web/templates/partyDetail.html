{% extends 'base.html' %}

{% block content %}
<div class="container"> <!-- Design needed -->
    <div class="row">
        <div class="col">
            PartyID
        </div>
        <div class="col">
            {{party['partyID']}}
        </div>
    </div>
    <div class="row">
        <div class="col">
            Name
        </div>
        <div class="col">
            {{party['name']}}
        </div>
    </div>
    <div class="row">
        <div class="col">
            Leader
        </div>
        <div class="col">
            {{party['leader']}} <!-- party['leader']에 리더의 닉네임을 넣는게 나을거 같아요-->
        </div>
    </div>
    <div class="row">
        <div class="col">
            Game
        </div>
        <div class="col">
            {{party['game']}} <!-- 게임의 이름을 넣어야할거 같아요-->
        </div>
    </div>
    <div class="row">
        <div class="col">
            Date
        </div>
        <div class="col">
            {{party['playStartDateTime']}}
        </div>
    </div>
    <div class="row">
        <div class="col">
            Users
        </div>
        <div class="col">
            {{party['users']}} <!-- myclan['users'] 를 count를 한 int 값으로 할지, list로 해서 |length를 할지는 백엔드 쪽에서 (일단은 int값 인 것으로 가정)-->
        </div>
    </div>
    {% if session.get('user') %}
        {% if not is_my_party %}
        <a href="join/" class="btn btn-primary">Join</a>
        {% else %}
        <a href="secession/" class="btn btn-primary">Secession</a>
        {% endif %}
    {% endif %}
    <table class="table">
        <thead>
          <tr>
            <th scope="col">User ID</th>
            <th scope="col">Nickname</th>
            <th scope="col">Leader</th>
            <th scope="col">Date</th>
            <th scope="col">Popular</th>
          </tr>
        </thead>
        <tbody>
            {% for user in party['member'] %}
            <tr onclick = "location.href = '/users/{{user['userID']}}/'">
                <td class="col-3">{{user['userID']}}</td>
                <td class="col-9">{{user['nickname']}}</td>
            </tr>
            {% endfor %}
        </tbody>
      </table>
</div>
{% endblock content %}